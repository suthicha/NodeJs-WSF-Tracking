{"version":3,"sources":["../../src/core/helper.js"],"names":["db","require","httpMsg","exports","QuoteEncoding","strvalue","strquotes","replace","NumberNull","value","StringNull","undefined","FixQuote","execCommand","req","resp","sql","executeSql","data","err","show500","sendJson","execCommandWithConnection","connection","executeSqlWithConnection"],"mappings":";;AAAA,IAAIA,KAAKC,QAAQ,MAAR,CAAT;AACA,IAAIC,UAAUD,QAAQ,WAAR,CAAd;;AAEAE,QAAQC,aAAR,GAAwB,UAASC,QAAT,EAAmB;AACvC,QAAIC,YAAY,MAAhB;AACA,WAAOD,SAASE,OAAT,CAAiBD,SAAjB,EAA4B,IAA5B,CAAP;AACH,CAHD;;AAKAH,QAAQK,UAAR,GAAqB,UAASC,KAAT,EAAe;AAChC,WAAOA,SAAS,IAAT,GAAe,CAAf,GAAmBA,KAA1B;AACH,CAFD;;AAIAN,QAAQO,UAAR,GAAqB,UAASD,KAAT,EAAe;AACjC,WAAOA,SAAS,IAAT,IAAiBA,SAASE,SAA1B,IAAuCF,SAAS,EAAhD,GAAoD,EAApD,GAAwDG,SAASH,KAAT,CAA/D;AACF,CAFD;;AAIAN,QAAQU,WAAR,GAAsB,UAASC,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyB;AAC3ChB,OAAGiB,UAAH,CAAcD,GAAd,EAAmB,UAASE,IAAT,EAAeC,GAAf,EAAoB;AACnC,YAAIA,GAAJ,EAAQ;AACJjB,oBAAQkB,OAAR,CAAgBN,GAAhB,EAAqBC,IAArB,EAA2BI,GAA3B;AACH,SAFD,MAGK;AACDjB,oBAAQmB,QAAR,CAAiBP,GAAjB,EAAsBC,IAAtB,EAA4BG,IAA5B;AACH;AACJ,KAPD;AAQH,CATD;;AAWAf,QAAQmB,yBAAR,GAAoC,UAASR,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBO,UAAzB,EAAqC;AACrEvB,OAAGwB,wBAAH,CAA4BD,UAA5B,EAAwCP,GAAxC,EAA6C,UAASE,IAAT,EAAeC,GAAf,EAAoB;AAC7D,YAAIA,GAAJ,EAAQ;AACJjB,oBAAQkB,OAAR,CAAgBN,GAAhB,EAAqBC,IAArB,EAA2BI,GAA3B;AACH,SAFD,MAGK;AACDjB,oBAAQmB,QAAR,CAAiBP,GAAjB,EAAsBC,IAAtB,EAA4BG,IAA5B;AACH;AACJ,KAPD;AAQH,CATD;;AAWA,SAASN,QAAT,CAAkBP,QAAlB,EAA2B;AACtB,QAAIC,YAAY,MAAhB;AACD,WAAOD,SAASE,OAAT,CAAiBD,SAAjB,EAA4B,IAA5B,CAAP;AACH","file":"helper.js","sourcesContent":["var db = require('./db');\nvar httpMsg = require('./httpMsg');\n\nexports.QuoteEncoding = function(strvalue) {\n    var strquotes = /(')/g;\n    return strvalue.replace(strquotes, \"''\");\n};\n\nexports.NumberNull = function(value){\n    return value == null? 0 : value;\n}\n\nexports.StringNull = function(value){\n   return value == null || value == undefined || value == \"\"? \"\": FixQuote(value);\n}\n\nexports.execCommand = function(req, resp, sql) {\n    db.executeSql(sql, function(data, err) {\n        if (err){\n            httpMsg.show500(req, resp, err);\n        }\n        else {\n            httpMsg.sendJson(req, resp, data);\n        }\n    })\n}\n\nexports.execCommandWithConnection = function(req, resp, sql, connection) {\n    db.executeSqlWithConnection(connection, sql, function(data, err) {\n        if (err){\n            httpMsg.show500(req, resp, err);\n        }\n        else {\n            httpMsg.sendJson(req, resp, data);\n        }\n    })\n}\n\nfunction FixQuote(strvalue){\n     var strquotes = /(')/g;\n    return strvalue.replace(strquotes, \"''\");\n}"]}